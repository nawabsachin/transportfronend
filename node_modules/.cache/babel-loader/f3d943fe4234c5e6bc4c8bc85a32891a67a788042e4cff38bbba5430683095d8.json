{"ast":null,"code":"// import React, { useState, useEffect } from 'react';\n// import { addProduct, updateProduct, deleteProduct } from './productService';\n// import { jwtDecode } from 'jwt-decode';\n// import './ProductForm.css';\n// import DashboardMain from './DarshMain';\n// const ProductForm = ({ editProduct, onSave }) => {\n//   const [product, setProduct] = useState({ name: '', price: '', description: '' });\n//   const [image, setImage] = useState(null);\n//   const [preview, setPreview] = useState(null);\n//   const [successPopup, setSuccessPopup] = useState(false);\n//   useEffect(() => {\n//     if (editProduct) {\n//       setProduct({\n//         name: editProduct.name || '',\n//         price: editProduct.price || '',\n//         description: editProduct.description || '',\n//       });\n//       if (editProduct.image) {\n//         setPreview(`http://localhost:5000/uploads/${editProduct.image}`);\n//       }\n//     }\n//   }, [editProduct]);\n//   const handleImageChange = (e) => {\n//     const file = e.target.files[0];\n//     setImage(file);\n//     setPreview(URL.createObjectURL(file));\n//   };\n//   const getToken = () => {\n//     const token = localStorage.getItem('admin-auth');\n//     if (!token) {\n//       console.warn('No token found. Proceeding without token.');\n//       return null;\n//     }\n//     try {\n//       const decodedToken = jwtDecode(token);\n//       if (decodedToken.exp * 1000 < Date.now()) {\n//         alert('Session expired. Please login again.');\n//         localStorage.removeItem('admin-auth');\n//         return null;\n//       }\n//       return token;\n//     } catch (error) {\n//       console.error('Invalid token:', error);\n//       localStorage.removeItem('admin-auth');\n//       return null;\n//     }\n//   };\n//   const handleSubmit = async (e) => {\n//     e.preventDefault();\n//     const token = getToken(); // Optional: backend should handle auth\n//     const formData = new FormData();\n//     formData.append('name', product.name);\n//     formData.append('price', product.price);\n//     formData.append('description', product.description);\n//     if (image) formData.append('image', image);\n//     try {\n//       if (editProduct?._id) {\n//         await updateProduct(editProduct._id, formData, token);\n//       } else {\n//         await addProduct(formData, token);\n//       }\n//       setSuccessPopup(true);\n//       if (onSave) onSave();\n//       setProduct({ name: '', price: '', description: '' });\n//       setImage(null);\n//       setPreview(null);\n//     } catch (error) {\n//       const status = error.response?.status;\n//       if (status === 401 || status === 403) {\n//         alert('You are not authorized to perform this action.');\n//       } else {\n//         alert('Error saving product: ' + (error.response?.data?.message || error.message));\n//       }\n//       console.error(error);\n//     }\n//   };\n//   const handleDelete = async () => {\n//     if (editProduct && window.confirm('Are you sure?')) {\n//       const token = getToken(); // Optional\n//       try {\n//         await deleteProduct(editProduct._id, token);\n//         if (onSave) onSave();\n//       } catch (error) {\n//         const status = error.response?.status;\n//         if (status === 401 || status === 403) {\n//           alert('You are not authorized to delete this product.');\n//         } else {\n//           alert('Error deleting product');\n//         }\n//         console.error(error);\n//       }\n//     }\n//   };\n//   return (\n//     <div className=\"dashboard-wrapper\">\n//       <DashboardMain />\n//       <div className=\"product-form-container\">\n//         <form className=\"product-form\" onSubmit={handleSubmit}>\n//           <h3 className=\"form-title\">{editProduct ? 'Edit' : 'Add'} Product</h3>\n//           <input\n//             className=\"form-input\"\n//             placeholder=\"Name\"\n//             value={product.name}\n//             onChange={e => setProduct({ ...product, name: e.target.value })}\n//             required\n//           />\n//           <input\n//             className=\"form-input\"\n//             placeholder=\"Price\"\n//             value={product.price}\n//             onChange={e => setProduct({ ...product, price: e.target.value })}\n//             required\n//           />\n//           <textarea\n//             className=\"form-textarea\"\n//             placeholder=\"Description\"\n//             value={product.description}\n//             onChange={e => setProduct({ ...product, description: e.target.value })}\n//             required\n//           />\n//           <input\n//             className=\"form-file\"\n//             type=\"file\"\n//             accept=\"image/*\"\n//             onChange={handleImageChange}\n//           />\n//           {preview && <img className=\"image-preview\" src={preview} alt=\"Preview\" />}\n//           <div className=\"form-buttons\">\n//             <button className=\"btn submit-btn\" type=\"submit\">\n//               {editProduct ? 'Update' : 'Add'} Product\n//             </button>\n//             {editProduct && (\n//               <button className=\"btn delete-btn\" type=\"button\" onClick={handleDelete}>\n//                 Delete\n//               </button>\n//             )}\n//           </div>\n//         </form>\n//         {successPopup && (\n//           <div className=\"popup-backdrop\">\n//             <div className=\"popup-content\">\n//               <h4>Product successfully {editProduct ? 'updated' : 'added'}!</h4>\n//               <button className=\"btn close-btn\" onClick={() => setSuccessPopup(false)}>Close</button>\n//             </div>\n//           </div>\n//         )}\n//       </div>\n//     </div>\n//   );\n// };\n// export default ProductForm;\nimport React,{useState,useEffect}from'react';import{addProduct,updateProduct,deleteProduct}from'./productService';import{jwtDecode}from'jwt-decode';import'./ProductForm.css';import DashboardMain from'./DarshMain';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProductForm=_ref=>{let{editProduct,onSave}=_ref;const[product,setProduct]=useState({name:'',price:'',description:''});const[image,setImage]=useState(null);const[preview,setPreview]=useState(null);const[successPopup,setSuccessPopup]=useState(false);useEffect(()=>{if(editProduct){setProduct({name:editProduct.name||'',price:editProduct.price||'',description:editProduct.description||''});if(editProduct.image){setPreview(`https://transportbackend-kappa.vercel.app/uploads/${editProduct.image}`);}}},[editProduct]);const handleImageChange=e=>{const file=e.target.files[0];setImage(file);setPreview(URL.createObjectURL(file));};const getToken=()=>{const token=localStorage.getItem('admin-auth');// Adjusted to 'admin-auth' based on your first message.\nif(!token){console.warn('No token found. Proceeding without token.');return null;}try{const decodedToken=jwtDecode(token);if(decodedToken.exp*1000<Date.now()){alert('Session expired. Please login again.');localStorage.removeItem('admin-auth');return null;}return token;}catch(error){console.error('Invalid token:',error);localStorage.removeItem('admin-auth');return null;}};const handleSubmit=async e=>{e.preventDefault();const token=getToken();// Optional: backend should handle auth\nconst formData=new FormData();formData.append('name',product.name);formData.append('price',product.price);formData.append('description',product.description);if(image)formData.append('image',image);// Log FormData for debugging\nfor(let pair of formData.entries()){console.log(pair[0]+': '+pair[1]);}try{const headers=token?{Authorization:`Bearer ${token}`}:{};if(editProduct!==null&&editProduct!==void 0&&editProduct._id){await updateProduct(editProduct._id,formData,headers);}else{await addProduct(formData,headers);}setSuccessPopup(true);if(onSave)onSave();setProduct({name:'',price:'',description:''});setImage(null);setPreview(null);}catch(error){console.error('Error:',error);if(error.response){var _error$response$data;console.error('Response Status:',error.response.status);console.error('Response Data:',error.response.data);alert('Error saving product: '+(((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}else{console.error('Error message:',error.message);alert('Unexpected error: '+error.message);}}};const handleDelete=async()=>{if(editProduct&&window.confirm('Are you sure?')){const token=getToken();// Optional: backend should handle auth\ntry{await deleteProduct(editProduct._id,token);if(onSave)onSave();}catch(error){var _error$response;const status=(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status;if(status===401||status===403){alert('You are not authorized to delete this product.');}else{alert('Error deleting product');}console.error(error);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-wrapper\",children:[/*#__PURE__*/_jsx(DashboardMain,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-form-container\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"product-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"form-title\",children:[editProduct?'Edit':'Add',\" Product\"]}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"Name\",value:product.name,onChange:e=>setProduct({...product,name:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",placeholder:\"Price\",value:product.price,onChange:e=>setProduct({...product,price:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-textarea\",placeholder:\"Description\",value:product.description,onChange:e=>setProduct({...product,description:e.target.value}),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-file\",type:\"file\",accept:\"image/*\",onChange:handleImageChange}),preview&&/*#__PURE__*/_jsx(\"img\",{className:\"image-preview\",src:preview,alt:\"Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-buttons\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn submit-btn\",type:\"submit\",children:[editProduct?'Update':'Add',\" Product\"]}),editProduct&&/*#__PURE__*/_jsx(\"button\",{className:\"btn delete-btn\",type:\"button\",onClick:handleDelete,children:\"Delete\"})]})]}),successPopup&&/*#__PURE__*/_jsx(\"div\",{className:\"popup-backdrop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup-content\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Product successfully \",editProduct?'updated':'added',\"!\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn close-btn\",onClick:()=>setSuccessPopup(false),children:\"Close\"})]})})]})]});};export default ProductForm;","map":{"version":3,"names":["React","useState","useEffect","addProduct","updateProduct","deleteProduct","jwtDecode","DashboardMain","jsx","_jsx","jsxs","_jsxs","ProductForm","_ref","editProduct","onSave","product","setProduct","name","price","description","image","setImage","preview","setPreview","successPopup","setSuccessPopup","handleImageChange","e","file","target","files","URL","createObjectURL","getToken","token","localStorage","getItem","console","warn","decodedToken","exp","Date","now","alert","removeItem","error","handleSubmit","preventDefault","formData","FormData","append","pair","entries","log","headers","Authorization","_id","response","_error$response$data","status","data","message","handleDelete","window","confirm","_error$response","className","children","onSubmit","placeholder","value","onChange","required","type","accept","src","alt","onClick"],"sources":["C:/Users/sharm/OneDrive/Desktop/Zaeesh/transport11/src/component/ProductForm.jsx"],"sourcesContent":["\r\n\r\n\r\n// import React, { useState, useEffect } from 'react';\r\n// import { addProduct, updateProduct, deleteProduct } from './productService';\r\n// import { jwtDecode } from 'jwt-decode';\r\n// import './ProductForm.css';\r\n// import DashboardMain from './DarshMain';\r\n\r\n// const ProductForm = ({ editProduct, onSave }) => {\r\n//   const [product, setProduct] = useState({ name: '', price: '', description: '' });\r\n//   const [image, setImage] = useState(null);\r\n//   const [preview, setPreview] = useState(null);\r\n//   const [successPopup, setSuccessPopup] = useState(false);\r\n\r\n//   useEffect(() => {\r\n//     if (editProduct) {\r\n//       setProduct({\r\n//         name: editProduct.name || '',\r\n//         price: editProduct.price || '',\r\n//         description: editProduct.description || '',\r\n//       });\r\n\r\n//       if (editProduct.image) {\r\n//         setPreview(`http://localhost:5000/uploads/${editProduct.image}`);\r\n//       }\r\n//     }\r\n//   }, [editProduct]);\r\n\r\n//   const handleImageChange = (e) => {\r\n//     const file = e.target.files[0];\r\n//     setImage(file);\r\n//     setPreview(URL.createObjectURL(file));\r\n//   };\r\n\r\n//   const getToken = () => {\r\n//     const token = localStorage.getItem('admin-auth');\r\n//     if (!token) {\r\n//       console.warn('No token found. Proceeding without token.');\r\n//       return null;\r\n//     }\r\n\r\n//     try {\r\n//       const decodedToken = jwtDecode(token);\r\n//       if (decodedToken.exp * 1000 < Date.now()) {\r\n//         alert('Session expired. Please login again.');\r\n//         localStorage.removeItem('admin-auth');\r\n//         return null;\r\n//       }\r\n//       return token;\r\n//     } catch (error) {\r\n//       console.error('Invalid token:', error);\r\n//       localStorage.removeItem('admin-auth');\r\n//       return null;\r\n//     }\r\n//   };\r\n\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault();\r\n//     const token = getToken(); // Optional: backend should handle auth\r\n\r\n//     const formData = new FormData();\r\n//     formData.append('name', product.name);\r\n//     formData.append('price', product.price);\r\n//     formData.append('description', product.description);\r\n//     if (image) formData.append('image', image);\r\n\r\n//     try {\r\n//       if (editProduct?._id) {\r\n//         await updateProduct(editProduct._id, formData, token);\r\n//       } else {\r\n//         await addProduct(formData, token);\r\n//       }\r\n\r\n//       setSuccessPopup(true);\r\n//       if (onSave) onSave();\r\n\r\n//       setProduct({ name: '', price: '', description: '' });\r\n//       setImage(null);\r\n//       setPreview(null);\r\n//     } catch (error) {\r\n//       const status = error.response?.status;\r\n//       if (status === 401 || status === 403) {\r\n//         alert('You are not authorized to perform this action.');\r\n//       } else {\r\n//         alert('Error saving product: ' + (error.response?.data?.message || error.message));\r\n//       }\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n//   const handleDelete = async () => {\r\n//     if (editProduct && window.confirm('Are you sure?')) {\r\n//       const token = getToken(); // Optional\r\n//       try {\r\n//         await deleteProduct(editProduct._id, token);\r\n//         if (onSave) onSave();\r\n//       } catch (error) {\r\n//         const status = error.response?.status;\r\n//         if (status === 401 || status === 403) {\r\n//           alert('You are not authorized to delete this product.');\r\n//         } else {\r\n//           alert('Error deleting product');\r\n//         }\r\n//         console.error(error);\r\n//       }\r\n//     }\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"dashboard-wrapper\">\r\n//       <DashboardMain />\r\n//       <div className=\"product-form-container\">\r\n//         <form className=\"product-form\" onSubmit={handleSubmit}>\r\n//           <h3 className=\"form-title\">{editProduct ? 'Edit' : 'Add'} Product</h3>\r\n//           <input\r\n//             className=\"form-input\"\r\n//             placeholder=\"Name\"\r\n//             value={product.name}\r\n//             onChange={e => setProduct({ ...product, name: e.target.value })}\r\n//             required\r\n//           />\r\n//           <input\r\n//             className=\"form-input\"\r\n//             placeholder=\"Price\"\r\n//             value={product.price}\r\n//             onChange={e => setProduct({ ...product, price: e.target.value })}\r\n//             required\r\n//           />\r\n//           <textarea\r\n//             className=\"form-textarea\"\r\n//             placeholder=\"Description\"\r\n//             value={product.description}\r\n//             onChange={e => setProduct({ ...product, description: e.target.value })}\r\n//             required\r\n//           />\r\n//           <input\r\n//             className=\"form-file\"\r\n//             type=\"file\"\r\n//             accept=\"image/*\"\r\n//             onChange={handleImageChange}\r\n//           />\r\n//           {preview && <img className=\"image-preview\" src={preview} alt=\"Preview\" />}\r\n//           <div className=\"form-buttons\">\r\n//             <button className=\"btn submit-btn\" type=\"submit\">\r\n//               {editProduct ? 'Update' : 'Add'} Product\r\n//             </button>\r\n//             {editProduct && (\r\n//               <button className=\"btn delete-btn\" type=\"button\" onClick={handleDelete}>\r\n//                 Delete\r\n//               </button>\r\n//             )}\r\n//           </div>\r\n//         </form>\r\n\r\n//         {successPopup && (\r\n//           <div className=\"popup-backdrop\">\r\n//             <div className=\"popup-content\">\r\n//               <h4>Product successfully {editProduct ? 'updated' : 'added'}!</h4>\r\n//               <button className=\"btn close-btn\" onClick={() => setSuccessPopup(false)}>Close</button>\r\n//             </div>\r\n//           </div>\r\n//         )}\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default ProductForm;\r\n\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { addProduct, updateProduct, deleteProduct } from './productService';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport './ProductForm.css';\r\nimport DashboardMain from './DarshMain';\r\n\r\nconst ProductForm = ({ editProduct, onSave }) => {\r\n  const [product, setProduct] = useState({ name: '', price: '', description: '' });\r\n  const [image, setImage] = useState(null);\r\n  const [preview, setPreview] = useState(null);\r\n  const [successPopup, setSuccessPopup] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (editProduct) {\r\n      setProduct({\r\n        name: editProduct.name || '',\r\n        price: editProduct.price || '',\r\n        description: editProduct.description || '',\r\n      });\r\n\r\n      if (editProduct.image) {\r\n        setPreview(`https://transportbackend-kappa.vercel.app/uploads/${editProduct.image}`);\r\n      }\r\n    }\r\n  }, [editProduct]);\r\n\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImage(file);\r\n    setPreview(URL.createObjectURL(file));\r\n  };\r\n\r\n  const getToken = () => {\r\n    const token = localStorage.getItem('admin-auth'); // Adjusted to 'admin-auth' based on your first message.\r\n    \r\n    if (!token) {\r\n      console.warn('No token found. Proceeding without token.');\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const decodedToken = jwtDecode(token);\r\n      if (decodedToken.exp * 1000 < Date.now()) {\r\n        alert('Session expired. Please login again.');\r\n        localStorage.removeItem('admin-auth');\r\n        return null;\r\n      }\r\n      return token;\r\n    } catch (error) {\r\n      console.error('Invalid token:', error);\r\n      localStorage.removeItem('admin-auth');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const token = getToken(); // Optional: backend should handle auth\r\n\r\n    const formData = new FormData();\r\n    formData.append('name', product.name);\r\n    formData.append('price', product.price);\r\n    formData.append('description', product.description);\r\n    if (image) formData.append('image', image);\r\n\r\n    // Log FormData for debugging\r\n    for (let pair of formData.entries()) {\r\n      console.log(pair[0] + ': ' + pair[1]);\r\n    }\r\n\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : {};\r\n\r\n      if (editProduct?._id) {\r\n        await updateProduct(editProduct._id, formData, headers);\r\n      } else {\r\n        await addProduct(formData, headers);\r\n      }\r\n\r\n      setSuccessPopup(true);\r\n      if (onSave) onSave();\r\n\r\n      setProduct({ name: '', price: '', description: '' });\r\n      setImage(null);\r\n      setPreview(null);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n\r\n      if (error.response) {\r\n        console.error('Response Status:', error.response.status);\r\n        console.error('Response Data:', error.response.data);\r\n        alert('Error saving product: ' + (error.response.data?.message || error.message));\r\n      } else {\r\n        console.error('Error message:', error.message);\r\n        alert('Unexpected error: ' + error.message);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (editProduct && window.confirm('Are you sure?')) {\r\n      const token = getToken(); // Optional: backend should handle auth\r\n      try {\r\n        await deleteProduct(editProduct._id, token);\r\n        if (onSave) onSave();\r\n      } catch (error) {\r\n        const status = error.response?.status;\r\n        if (status === 401 || status === 403) {\r\n          alert('You are not authorized to delete this product.');\r\n        } else {\r\n          alert('Error deleting product');\r\n        }\r\n        console.error(error);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"dashboard-wrapper\">\r\n      <DashboardMain />\r\n      <div className=\"product-form-container\">\r\n        <form className=\"product-form\" onSubmit={handleSubmit}>\r\n          <h3 className=\"form-title\">{editProduct ? 'Edit' : 'Add'} Product</h3>\r\n          <input\r\n            className=\"form-input\"\r\n            placeholder=\"Name\"\r\n            value={product.name}\r\n            onChange={e => setProduct({ ...product, name: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            className=\"form-input\"\r\n            placeholder=\"Price\"\r\n            value={product.price}\r\n            onChange={e => setProduct({ ...product, price: e.target.value })}\r\n            required\r\n          />\r\n          <textarea\r\n            className=\"form-textarea\"\r\n            placeholder=\"Description\"\r\n            value={product.description}\r\n            onChange={e => setProduct({ ...product, description: e.target.value })}\r\n            required\r\n          />\r\n          <input\r\n            className=\"form-file\"\r\n            type=\"file\"\r\n            accept=\"image/*\"\r\n            onChange={handleImageChange}\r\n          />\r\n          {preview && <img className=\"image-preview\" src={preview} alt=\"Preview\" />}\r\n          <div className=\"form-buttons\">\r\n            <button className=\"btn submit-btn\" type=\"submit\">\r\n              {editProduct ? 'Update' : 'Add'} Product\r\n            </button>\r\n            {editProduct && (\r\n              <button className=\"btn delete-btn\" type=\"button\" onClick={handleDelete}>\r\n                Delete\r\n              </button>\r\n            )}\r\n          </div>\r\n        </form>\r\n\r\n        {successPopup && (\r\n          <div className=\"popup-backdrop\">\r\n            <div className=\"popup-content\">\r\n              <h4>Product successfully {editProduct ? 'updated' : 'added'}!</h4>\r\n              <button className=\"btn close-btn\" onClick={() => setSuccessPopup(false)}>Close</button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductForm;\r\n"],"mappings":"AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,CAAEC,aAAa,CAAEC,aAAa,KAAQ,kBAAkB,CAC3E,OAASC,SAAS,KAAQ,YAAY,CACtC,MAAO,mBAAmB,CAC1B,MAAO,CAAAC,aAAa,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAA6B,IAA5B,CAAEC,WAAW,CAAEC,MAAO,CAAC,CAAAF,IAAA,CAC1C,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,CAAEiB,IAAI,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAE,CAAEC,WAAW,CAAE,EAAG,CAAC,CAAC,CA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}