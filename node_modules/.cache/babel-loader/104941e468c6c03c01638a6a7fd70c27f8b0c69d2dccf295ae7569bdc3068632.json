{"ast":null,"code":"import React,{useEffect,useState}from'react';import axios from'axios';import'./ordertable.css';// Optional: for styling\nimport DashboardMain from'./DarshMain';import{getProducts,deleteProduct,updateProduct,createProduct}from'../api/proudct';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const OrderTable=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchOrders=async()=>{try{const response=await axios.get('https://transportbackend-kappa.vercel.app/api/orders');setOrders(response.data);}catch(error){console.error('❌ Failed to fetch orders:',error);}finally{setLoading(false);}};fetchOrders();},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading orders...\"});if(orders.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"No orders found.\"});return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"order-flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"dashboard-sidebar\",children:/*#__PURE__*/_jsx(DashboardMain,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-table-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Orders\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"order-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pincode\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price (\\u20B9)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total (\\u20B9)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ordered On\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>{var _order$product,_order$product2,_order$product3;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order.name}),/*#__PURE__*/_jsx(\"td\",{children:order.alternateNumber}),/*#__PURE__*/_jsx(\"td\",{children:order.address}),/*#__PURE__*/_jsx(\"td\",{children:order.pincode}),/*#__PURE__*/_jsx(\"td\",{children:order.quantity}),/*#__PURE__*/_jsx(\"td\",{children:((_order$product=order.product)===null||_order$product===void 0?void 0:_order$product.name)||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:((_order$product2=order.product)===null||_order$product2===void 0?void 0:_order$product2.price)||0}),/*#__PURE__*/_jsx(\"td\",{children:(order.quantity*((_order$product3=order.product)===null||_order$product3===void 0?void 0:_order$product3.price)).toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{children:order.status}),/*#__PURE__*/_jsx(\"td\",{children:new Date(order.createdAt).toLocaleDateString()})]},order._id);})})]})]})]})});};export default OrderTable;","map":{"version":3,"names":["React","useEffect","useState","axios","DashboardMain","getProducts","deleteProduct","updateProduct","createProduct","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","OrderTable","orders","setOrders","loading","setLoading","fetchOrders","response","get","data","error","console","children","length","className","map","order","_order$product","_order$product2","_order$product3","name","alternateNumber","address","pincode","quantity","product","price","toFixed","status","Date","createdAt","toLocaleDateString","_id"],"sources":["C:/Users/sharm/OneDrive/Desktop/Zaeesh/transport11/src/component/OrderTable.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport './ordertable.css'; // Optional: for styling\r\nimport DashboardMain from './DarshMain';\r\nimport {\r\n  getProducts,\r\n  deleteProduct,\r\n  updateProduct,\r\n  createProduct,\r\n} from '../api/proudct'; \r\n\r\nconst OrderTable = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchOrders = async () => {\r\n      try {\r\n        const response = await axios.get('https://transportbackend-kappa.vercel.app/api/orders');\r\n        setOrders(response.data);\r\n      } catch (error) {\r\n        console.error('❌ Failed to fetch orders:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchOrders();\r\n  }, []);\r\n\r\n  if (loading) return <p>Loading orders...</p>;\r\n\r\n  if (orders.length === 0) return <p>No orders found.</p>;\r\n\r\n  return (\r\n    <>\r\n    <div className='order-flex'> \r\n        <div className=\"dashboard-sidebar\">\r\n                <DashboardMain />\r\n              </div>\r\n    <div className=\"order-table-container\">\r\n      <h2>Orders</h2>\r\n      <table className=\"order-table\">\r\n        <thead>\r\n          <tr>\r\n            <th>Customer Name</th>\r\n            <th>Phone</th>\r\n            <th>Address</th>\r\n            <th>Pincode</th>\r\n            <th>Quantity</th>\r\n            <th>Product Name</th>\r\n            <th>Price (₹)</th>\r\n            <th>Total (₹)</th>\r\n            <th>Status</th>\r\n            <th>Ordered On</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map((order) => (\r\n            <tr key={order._id}>\r\n              <td>{order.name}</td>\r\n              <td>{order.alternateNumber}</td>\r\n              <td>{order.address}</td>\r\n              <td>{order.pincode}</td>\r\n              <td>{order.quantity}</td>\r\n              <td>{order.product?.name || 'N/A'}</td>\r\n              <td>{order.product?.price || 0}</td>\r\n              <td>{(order.quantity * order.product?.price).toFixed(2)}</td>\r\n              <td>{order.status}</td>\r\n              <td>{new Date(order.createdAt).toLocaleDateString()}</td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderTable;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}